!function(){"use strict";angular.module("angular-masonry",[]).directive("dpMasonry",["$timeout","$rootScope",function(e,n){return"mobile"==n.appValues.screenSize.label?{restrict:"AC"}:{restrict:"AC",link:function(n,i,r){n.busyRendering=!0;var o=i[0],t=!1,a={itemSelector:".dp-masonry-item"};r.dpMasonry&&""!=r.dpMasonry&&(a=angular.extend({},a,angular.fromJson(r.dpMasonry)));var s=n.masonry=new Masonry(o,a),c=0;n.update=function(r){c&&e.cancel(c),c=e(function(){t||(c=0,s.layout(),i.children(a.itemSelector).css("visibility","visible"),imagesLoaded(o,function(){s.reloadItems(),s.layout(),n.busyRendering=!1}))},250)},n.appendBricks=function(n,i){t||e(function(){s.appended(n)},120)},n.removeBrick=function(){t||e(function(){s.reloadItems(),s.layout()},300)},n.$on("masonry.layout",function(){s.layout()}),n.$on("$destroy",function(){t=!0,s.destroy(),i.remove()})}}}]).directive("dpMasonryTile",["$rootScope",function(e){return"mobile"==e.appValues.screenSize.label?{restrict:"AC"}:{restrict:"AC",link:function(e,n){n.css("visibility","hidden");var i=e.$parent;i.busyRendering=!0;var r=i.update,o=i.removeBrick,t=i.appendBricks;n.get(0);n.ready(function(){t(n,e.$index),r(e.$index)}),e.$on("$destroy",function(){o()})}}}])}();
